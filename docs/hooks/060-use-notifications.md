---
id: use-notifications
title: useNotifications
sidebar_label: useNotifications
---
import useBaseUrl from '@docusaurus/useBaseUrl';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

```javascript
const notifications = useNotifications(topic)
```
The goal of ***useNotifications*** is to listen on a topic that contains notifications.<br/>
As soon as the topic is updated, the component does a re-render.

> Oneki.js provides a default service to send notifications, but not a default widget to handle them. You have to provide it

### Architecture
***useNotificationService*** is a producer service. The notifications produced by ***useNotificationService*** are consumed by ***useNotifications*** as described on the figure below

<img alt="Notification architecture" src={useBaseUrl('img/notification_service.svg')} />;

### Parameters
#### Inputs
```javascript
// topic is a entry in the Redux state, stored under "notification.(topic)"
// E.g: if topic=error, then the entry in Redux state is: notification.error
// the value of notification.error is an array of notifications
topic: string
```
#### Outputs
```javascript
// notifications is an array of notification
notifications: [{
  topic: string, // the topic to use to send the notification. If not present, topic=default
  id: string, // Unique ID of the notification. This id is used later on to remove the notification from the Redux state. If no ID is provided, the service will autogenerated one.
  ttl: number, // Time to leave of the notification in milliseconds. Default value=0 (means no expiration)
  persist: boolean // A flag to indicate if the notification should survive after a route change. Default value=true
  payload: object // The payload of the notification.
}]
```
## Configuration
A topic can be configured via settings.js. The configuration is detailled on this page.

## Examples
### Minimal example
<Tabs
  defaultValue="code"
  values={[
    { label: 'Code', value: 'code', },
    { label: 'Preview', value: 'preview', },
  ]
}>

<TabItem value="code">
  <iframe
    src="https://codesandbox.io/embed/use-notification-service-tswy1?fontsize=14&hidenavigation=1&module=%2Fsrc%2FNotification.js&theme=dark&view=editor"
    style={{width:'100%', height:'1500px', border:0, bordeRadius: '4px', overflow:'hidden'}}
    title="onekijs-basic-app"
    allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
    sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" />
</TabItem>
<TabItem value="preview">
  <iframe
    src="https://codesandbox.io/embed/use-notification-service-tswy1?fontsize=14&hidenavigation=1&module=%2Fsrc%2FNotification.js&theme=dark&view=preview"
    style={{width:'100%', height:'1500px', border:0, bordeRadius: '4px', overflow:'hidden'}}
    title="onekijs-basic-app"
    allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
    sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" />
</TabItem>
</Tabs>