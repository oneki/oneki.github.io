/*! For license information please see 2b1387f6.b00ae322.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{140:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return p}));var a=t(1),r=t(9),i=(t(0),t(182)),o=(t(187),t(185),t(186),{id:"translations",title:"Translation files",sidebar_label:"Translation files"}),l={id:"i18n/translations",title:"Translation files",description:"import useBaseUrl from '@docusaurus/useBaseUrl';",source:"@site/docs/i18n/010_translations.md",permalink:"/docs/i18n/translations",editUrl:"https://github.com/oneki/oneki.github.io/edit/source/docs/i18n/010_translations.md",sidebar_label:"Translation files",sidebar:"someSidebar",previous:{title:"Introduction",permalink:"/docs/i18n/introduction"},next:{title:"useTranslation",permalink:"/docs/i18n/useTranslation"}},c=[{value:"Namespaces",id:"namespaces",children:[{value:"Common namespace",id:"common-namespace",children:[]},{value:"Example",id:"example",children:[]}]},{value:"JSON files",id:"json-files",children:[{value:"Not embedded in javascript bundle",id:"not-embedded-in-javascript-bundle",children:[]},{value:"Embedded in javascript bundle",id:"embedded-in-javascript-bundle",children:[]}]},{value:"Content",id:"content",children:[]}],s={rightToc:c},u="wrapper";function p(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)(u,Object(a.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"The translations are stored in JSON files under ",Object(i.b)("strong",{parentName:"p"},Object(i.b)("em",{parentName:"strong"},"public/locales/{locale}/{namespace}.json")))),Object(i.b)("h2",{id:"namespaces"},"Namespaces"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},Object(i.b)("em",{parentName:"strong"},"Oneki.js"))," supports the separation of translations into multiple files which are called ",Object(i.b)("strong",{parentName:"p"},"namespaces")),Object(i.b)("p",null,"The separation of translations into multiple files provide the following benefits:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Only the required translation files are loaded"),Object(i.b)("li",{parentName:"ul"},"The size of the translation files stays under control")),Object(i.b)("h3",{id:"common-namespace"},"Common namespace"),Object(i.b)("p",null,"By convention, the default namespace is named ",Object(i.b)("strong",{parentName:"p"},"common")," and is automatically loaded.",Object(i.b)("br",null),"\nIt's a good practice to put anything common to the whole application in this file (i.e: the text in the navbar). ",Object(i.b)("br",null),"\nFor small applications, it's common to put every translations only in this file."),Object(i.b)("h3",{id:"example"},"Example"),Object(i.b)("p",null,"Suppose the translation files are splitted into 3 namespaces:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"common.json"),Object(i.b)("li",{parentName:"ul"},"users.json"),Object(i.b)("li",{parentName:"ul"},"admin.json")),Object(i.b)("p",null,'and the admin page only need translations from "admin" and "common" namespaces. This is specified via the hook ',Object(i.b)("strong",{parentName:"p"},"useTranslation"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"// if common is not specified, it's automatically added to the list of required namespaces\nconst [T, t, locale, loading] = useTranslation(['admin', 'common']); \n")),Object(i.b)("p",null,'Therefore when the page "admin" is displayed, only the files "common.json" and "admin.json" are loaded'),Object(i.b)("h2",{id:"json-files"},"JSON files"),Object(i.b)("h3",{id:"not-embedded-in-javascript-bundle"},"Not embedded in javascript bundle"),Object(i.b)("p",null,"The JSON files ",Object(i.b)("strong",{parentName:"p"},"must be")," stored in the folder ",Object(i.b)("strong",{parentName:"p"},Object(i.b)("em",{parentName:"strong"},"public/locales/{locale}/{namespace}.json"))," where:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"locale")," is one of the language supported by the app (en, fr, es, ...)"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"namespace")," is the name of the namespace (see above)")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"My-App\n\u251c\u2500 public\n\u2502  \u251c\u2500 locales\n\u2502  \u2502  \u2514\u2500 en // locales in english\n\u2502  \u2502  \u2502  \u251c\u2500 admin.json\n\u2502  \u2502  \u2502  \u2514\u2500 common.json \n\u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500 fr // locales in french\n\u2502  \u2502  \u2502  \u251c\u2500 admin.json\n\u2502  \u2502  \u2502  \u2514\u2500 common.json \n\u2502  \u2514\u2500 ...\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},Object(i.b)("em",{parentName:"strong"},"useTranslation"))," hook will lazy load these files from the server when needed"),Object(i.b)("h3",{id:"embedded-in-javascript-bundle"},"Embedded in javascript bundle"),Object(i.b)("p",null,"The translations can be embedded directly in the javascript bundle by adding them directly in the initial state of the redux store"),Object(i.b)("p",null,"TODO: example"),Object(i.b)("h2",{id:"content"},"Content"),Object(i.b)("p",null,"The content of a translation file is a simple key/value JSON file like this"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "Welcome": "Bienvenue"\n}\n')),Object(i.b)("p",null,"A key can be prefixed to support plurals:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "User": "Utilisateur",\n  "plural::User": "Utilisateurs"\n}\n')),Object(i.b)("p",null,"The key and value can be more complex and looks like the content of a JSX component",Object(i.b)("br",null),"\nCheck TODO for all possibilities"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  // Basic example\n  "Welcome": "Welcome", // <T>Welcome<T>\n\n  // example of a translation containing a variable\n  "Welcome": "Bienvenue {{name}} !", \n\n  // Same example as above but when the key is not specified by the developer. The key is therefore equal to the content of the default language\n  "Welcome {{name}} !": "Bienvenue {{name}}!", \n\n  // translation of a more complex JSX component\n  "user.connected": "Utilisateur <1>{{name}}</1> est connect\xe9", \n\n  // Same example as above but when the key is not specified\n  "User <1>{{name}}</1> is connected": "Utilisateur <1>{{name}}</1> est connect\xe9"\n}\n')))}p.isMDXComponent=!0},182:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return f}));var a=t(0),r=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=r.a.createContext({}),u=function(e){var n=r.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l({},n,{},e)),t},p=function(e){var n=u(e.components);return r.a.createElement(s.Provider,{value:n},e.children)},b="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(t),b=a,d=p["".concat(o,".").concat(b)]||p[b]||m[b]||i;return t?r.a.createElement(d,l({ref:n},s,{components:t})):r.a.createElement(d,l({ref:n},s))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[b]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=t[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},183:function(e,n,t){var a;!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var o=r.apply(null,a);o&&e.push(o)}else if("object"===i)for(var l in a)t.call(a,l)&&a[l]&&e.push(l)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(n,[]))||(e.exports=a)}()},184:function(e,n,t){"use strict";var a=t(0),r=t(48);n.a=function(){return Object(a.useContext)(r.a)}},185:function(e,n,t){"use strict";t(23),t(17),t(18);var a=t(0),r=t.n(a),i=t(183),o=t.n(i),l=t(118),c=t.n(l),s={left:37,right:39};n.a=function(e){var n=e.block,t=e.children,i=e.defaultValue,l=e.values,u=Object(a.useState)(i),p=u[0],b=u[1],m=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:o()("tabs",{"tabs--block":n})},l.map((function(e){var n=e.value,t=e.label;return r.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":p===n,className:o()("tab-item",c.a.tabItem,{"tab-item--active":p===n}),key:n,ref:function(e){return m.push(e)},onKeyDown:function(e){return function(e,n,t){switch(t.keyCode){case s.right:!function(e,n){var t=e.indexOf(n)+1;e[t]?e[t].focus():e[0].focus()}(e,n);break;case s.left:!function(e,n){var t=e.indexOf(n)-1;e[t]?e[t].focus():e[e.length-1].focus()}(e,n)}}(m,e.target,e)},onFocus:function(){return b(n)},onClick:function(){return b(n)}},t)}))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(t).filter((function(e){return e.props.value===p}))[0]))}},186:function(e,n,t){"use strict";var a=t(0),r=t.n(a);n.a=function(e){return r.a.createElement("div",null,e.children)}},187:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t(190);var a=t(184);function r(e){var n=(Object(a.a)().siteConfig||{}).baseUrl,t=void 0===n?"/":n;if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?t+e.slice(1):t+e}},188:function(e,n,t){var a=t(66),r=t(24);e.exports=function(e,n,t){if(a(n))throw TypeError("String#"+t+" doesn't accept regex!");return String(r(e))}},189:function(e,n,t){var a=t(2)("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[a]=!1,!"/./"[e](n)}catch(r){}}return!0}},190:function(e,n,t){"use strict";var a=t(19),r=t(34),i=t(188),o="".startsWith;a(a.P+a.F*t(189)("startsWith"),"String",{startsWith:function(e){var n=i(this,e,"startsWith"),t=r(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),a=String(e);return o?o.call(n,a,t):n.slice(t,t+a.length)===a}})}}]);