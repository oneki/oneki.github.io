(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{123:function(t,e,a){"use strict";a.r(e),a.d(e,"frontMatter",(function(){return i})),a.d(e,"metadata",(function(){return s})),a.d(e,"rightToc",(function(){return l})),a.d(e,"default",(function(){return b}));var n=a(1),r=a(6),o=(a(0),a(140)),c=(a(147),a(145),a(144),a(149)),i={id:"global-state",title:"Adding state management",sidebar_label:"Adding state management"},s={unversionedId:"overview/getting-started/global-state",id:"overview/getting-started/global-state",isDocsHomePage:!1,title:"Adding state management",description:"This step consists of adding a global state management to the application",source:"@site/docs/overview/getting-started/004_global-state.md",slug:"/overview/getting-started/global-state",permalink:"/docs/overview/getting-started/global-state",editUrl:"https://github.com/oneki/oneki.github.io/edit/source/docs/overview/getting-started/004_global-state.md",version:"current",sidebar_label:"Adding state management",sidebar:"someSidebar",previous:{title:"Adding navigation",permalink:"/docs/overview/getting-started/navigation"},next:{title:"Adding authentication",permalink:"/docs/overview/getting-started/authentication"}},l=[{value:"Final result",id:"final-result",children:[]},{value:"Adding global state management",id:"adding-global-state-management",children:[]},{value:"Adding the cart page",id:"adding-the-cart-page",children:[]},{value:"Adding the &quot;Buy&quot; button",id:"adding-the-buy-button",children:[]},{value:"Updating the navigation",id:"updating-the-navigation",children:[]},{value:"Next step",id:"next-step",children:[]}],d={rightToc:l};function b(t){var e=t.components,a=Object(r.a)(t,["components"]);return Object(o.b)("wrapper",Object(n.a)({},d,a,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"This step consists of adding a global state management to the application",Object(o.b)("br",null)),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"The core feature of React is to offer components that rerender when a state change.",Object(o.b)("br",null),Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://reactjs.org/docs/state-and-lifecycle.html"}),"The state"))," can be the internal state of the component or the state of a parent component (see ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://reactjs.org/docs/state-and-lifecycle.html#the-data-flows-down"}),"The Data Flows Down"),")"),Object(o.b)("p",{parentName:"div"},"Oneki.js provides a top level state for the application to store data on which any component can access and react. This global state is based on ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://redux.js.org/"}),"Redux")),"."))),Object(o.b)("h2",{id:"final-result"},"Final result"),Object(o.b)("p",null,"The result of this step is the following:"),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"New in this step")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},'You can now add a product to the cart by clicking on the button "Buy" available on the product details page.',Object(o.b)("br",null),'\nThe "checkout" button is now clickable and displays the cart page'))),Object(o.b)(c.a,{name:"step03-global-state",type:"getting-started/cra",view:"preview",height:"600",modules:["/src/index.tsx","/src/pages/products/index.tsx"],mdxType:"Sandbox"}),Object(o.b)("h2",{id:"adding-global-state-management"},"Adding global state management"),Object(o.b)("p",null,"Oneki.js provides out of the box a store to hold the global state. The store is a Redux store and is automatically bootstraped via the ",Object(o.b)("inlineCode",{parentName:"p"},"<App />")," component"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Oneki.js provides several hooks to update and react on data of the global state.",Object(o.b)("br",null),"\nIn this tutorial, we are going to use the hooks:"),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"useGlobalState")," to react on a data of the global state, but also to update it"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"useGlobalProp")," to only react on a data of the global state")))),Object(o.b)("h2",{id:"adding-the-cart-page"},"Adding the cart page"),Object(o.b)("p",null,'This list of products is stored in the global state under the key "cart".',Object(o.b)("br",null),"\nThe global state is an ",Object(o.b)("strong",{parentName:"p"},"immutable")," javascript object that looks like this:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),'{\n  cart: [\n    {\n      name: "Phone XL",\n      price: 799,\n      description: "A large phone with one of the best screens",\n    },\n    {\n      name: "Phone Standard",\n      price: 299,\n    },\n  ];\n}\n')),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"By default, the global state is an empty object when the application starts. In our case, it means that the cart page displays an empty list of product.",Object(o.b)("br",null),"\nIf needed, it's possible to pass an initial state to the ",Object(o.b)("inlineCode",{parentName:"p"},"<App />")," component"))),Object(o.b)("p",null,"Add a new page to display the list of products the user wants to buy:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:'title="src/pages/cart.tsx"',title:'"src/pages/cart.tsx"'}),"const CartPage: FC = () => {\n  // Reacts on the property 'cart' of the global state of the application\n  // Each time the property 'cart' is updated, the component is refreshed\n  const cart: ProductType[] = useGlobalSelector(\"cart\", []); // TODO change to useGlobalProp\n  return <Cart cart={cart} />;\n};\n\nexport default CartPage;\n")),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"It's a good practice to use a constant to identify a property in the global state. Indeed, if a refactoring is needed further on, it's easier to find which component uses which property."))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:'{3,6} title="src/modules/core/libs/constants.ts"',"{3,6}":!0,title:'"src/modules/core/libs/constants.ts"'}),"export const STATE_CART = 'cart';\n")),Object(o.b)("p",null,"We can then update the cart page to use this constant:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:'{2} title="src/pages/cart.tsx"',"{2}":!0,title:'"src/pages/cart.tsx"'}),"const CartPage: FC = () => {\n  const cart: ProductType[] = useGlobalSelector(STATE_CART, []); // TODO change to useGlobalProp\n  return <Cart cart={cart} />;\n};\n")),Object(o.b)("p",null,"The Cart component displays the list of products:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:'title="src/pages/cart.tsx"',title:'"src/pages/cart.tsx"'}),'const Cart: FC<CartOptions> = ({ cart }) => {\n  return (\n    <div>\n      <h3>Cart</h3>\n\n      {cart.map((item, index) => (\n        <div key={`item-${index}`} className="cart-item">\n          <span>{item.name}</span>\n          <span>{currency(item.price)}</span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\ntype CartOptions = {\n  cart: ProductType[];\n};\n\nexport default Cart;\n')),Object(o.b)("h2",{id:"adding-the-buy-button"},'Adding the "Buy" button'),Object(o.b)("p",null,"Update the product details component to display a button to purchase the product."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:'{3,16} title="src/modules/products/components/ProductDetails.tsx"',"{3,16}":!0,title:'"src/modules/products/components/ProductDetails.tsx"'}),"type ProductDetailsOptions = {\n  product: ProductType;\n  onBuy: () => void;\n};\n\nconst ProductDetails: FC<ProductDetailsOptions> = ({ product, onBuy }) => {\n  return (\n    <div>\n      <h2>Product Details</h2>\n\n      <div>\n        <h3>{product.name}</h3>\n        <h4>{currency(product.price)}</h4>\n        <p>{product.description}</p>\n\n        <button onClick={onBuy}>Buy</button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetails;\n")),Object(o.b)("p",null,'Update the product details page to handle the click on the "Buy" button.',Object(o.b)("br",null),'\nA click on the "Buy" button calls a function that adds the product to the "cart" property of the global state.',Object(o.b)("br",null),"As the cart page reacts on this property, the product will automatically appears on it."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:'{3,6} title="src/pages/products/[id]/index.tsx"',"{3,6}":!0,title:'"src/pages/products/[id]/index.tsx"'}),"const ProductDetailsPage: FC = () => {\n  const { id } = useParams();\n  const [cart, setCart] = useGlobalProp<ProductType[]>(STATE_CART, []); // TODO update to useGlobalState\n\n  const product = products[+id];\n  return (\n    <ProductDetails\n      product={product}\n      onBuy={() => {\n        setCart(cart.concat(product));\n        window.alert('Your product has been added to the cart!');\n      }}\n    />\n  );\n};\n\nexport default ProductDetailsPage;\n")),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"Immutability")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"As mentioned above, the global state is immutable. Therefore, to update the cart, one must use cart.contcat() to build a new array and not cart.push().",Object(o.b)("br",null),'\nOneki.js handles transparently the immutability of the global state. The "cart" variable is a standard javascript object that you can manipulate like any other javascript object excepted it\'s frozen.'),Object(o.b)("p",{parentName:"div"},Object(o.b)("strong",{parentName:"p"},"Advanced tip"),': As the "cart" variable is immutable, the "Cart" component could use React.memo to be more performant'))),Object(o.b)("h2",{id:"updating-the-navigation"},"Updating the navigation"),Object(o.b)("p",null,"Update the main router to add a route to display the cart page"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:'{8-10} title="src/pages/_router.tsx"',"{8-10}":!0,title:'"src/pages/_router.tsx"'}),'const RootRouter = (): JSX.Element => {\n  return (\n    <AppLayout>\n      <Switch>\n        <Route path="/products">\n          <ProductsRouter />\n        </Route>\n        <Route path="/cart">\n          <CartPage />\n        </Route>\n        <Route>\n          <Redirect href="/products" />\n        </Route>\n      </Switch>\n    </AppLayout>\n  );\n};\n\nexport default RootRouter;\n')),Object(o.b)("p",null,'and finally, update the "Checkout" button to navigate to the cart page'),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:'{7} title="src/modules/core/components/Navbar.tsx"',"{7}":!0,title:'"src/modules/core/components/Navbar.tsx"'}),'const Navbar: FC = () => {\n  return (\n    <div className="app-top-bar">\n      <Link href="/">\n        <h1>My Store</h1>\n      </Link>\n      <Link href="/cart" className="button fancy-button">\n        <i className="material-icons">shopping_cart</i>\n        Checkout\n      </Link>\n    </div>\n  );\n};\n\nexport default Navbar;\n')),Object(o.b)("h2",{id:"next-step"},"Next step"),Object(o.b)("p",null,"Currenty, the content of the cart is only stored in memory (in the global store) and if you refresh the page, the content is lost.",Object(o.b)("br",null),"\n",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"authentication"}),"In the next step")),", we will add the possibility to authenticate a user and then save the content of the cart in the cloud."))}b.isMDXComponent=!0},140:function(t,e,a){"use strict";a.d(e,"a",(function(){return b})),a.d(e,"b",(function(){return m}));var n=a(0),r=a.n(n);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var l=r.a.createContext({}),d=function(t){var e=r.a.useContext(l),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},b=function(t){var e=d(t.components);return r.a.createElement(l.Provider,{value:e},t.children)},p={inlineCode:"code",wrapper:function(t){var e=t.children;return r.a.createElement(r.a.Fragment,{},e)}},u=r.a.forwardRef((function(t,e){var a=t.components,n=t.mdxType,o=t.originalType,c=t.parentName,l=s(t,["components","mdxType","originalType","parentName"]),b=d(a),u=n,m=b["".concat(c,".").concat(u)]||b[u]||p[u]||o;return a?r.a.createElement(m,i(i({ref:e},l),{},{components:a})):r.a.createElement(m,i({ref:e},l))}));function m(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var o=a.length,c=new Array(o);c[0]=u;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i.mdxType="string"==typeof t?t:n,c[1]=i;for(var l=2;l<o;l++)c[l]=a[l];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},141:function(t,e,a){"use strict";function n(t){var e,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(a=n(t[e]))&&(r&&(r+=" "),r+=a);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}e.a=function(){for(var t,e,a=0,r="";a<arguments.length;)(t=arguments[a++])&&(e=n(t))&&(r&&(r+=" "),r+=e);return r}},142:function(t,e,a){"use strict";var n=a(0),r=a(143);e.a=function(){var t=Object(n.useContext)(r.a);if(null==t)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return t}},143:function(t,e,a){"use strict";var n=a(0),r=Object(n.createContext)(void 0);e.a=r},144:function(t,e,a){"use strict";var n=a(0),r=a.n(n);e.a=function(t){return r.a.createElement("div",null,t.children)}},145:function(t,e,a){"use strict";var n=a(0),r=a.n(n),o=a(142),c=a(141),i=a(48),s=a.n(i),l=37,d=39;e.a=function(t){var e=t.block,a=t.children,i=t.defaultValue,b=t.values,p=t.groupId,u=t.className,m=Object(o.a)(),h=m.tabGroupChoices,g=m.setTabGroupChoices,v=Object(n.useState)(i),O=v[0],j=v[1],f=Object(n.useState)(!1),y=f[0],w=f[1];if(null!=p){var N=h[p];null!=N&&N!==O&&b.some((function(t){return t.value===N}))&&j(N)}var x=function(t){j(t),null!=p&&g(p,t)},C=[],P=function(t){t.metaKey||t.altKey||t.ctrlKey||w(!0)},k=function(){w(!1)};return Object(n.useEffect)((function(){return window.addEventListener("keydown",P),window.addEventListener("mousedown",k),function(){window.removeEventListener("keydown",P),window.removeEventListener("mousedown",k)}}),[]),r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(c.a)("tabs",{"tabs--block":e},u)},b.map((function(t){var e=t.value,a=t.label;return r.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":O===e,className:Object(c.a)("tabs__item",s.a.tabItem,{"tabs__item--active":O===e}),style:y?{}:{outline:"none"},key:e,ref:function(t){return C.push(t)},onKeyDown:function(t){!function(t,e,a){switch(a.keyCode){case d:!function(t,e){var a=t.indexOf(e)+1;t[a]?t[a].focus():t[0].focus()}(t,e);break;case l:!function(t,e){var a=t.indexOf(e)-1;t[a]?t[a].focus():t[t.length-1].focus()}(t,e)}}(C,t.target,t),P(t)},onFocus:function(){return x(e)},onClick:function(){x(e),w(!1)},onPointerDown:function(){return w(!1)}},a)}))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter((function(t){return t.props.value===O}))[0]))}},146:function(t,e,a){"use strict";var n=a(0),r=a(20);e.a=function(){var t=Object(n.useContext)(r.a);if(null===t)throw new Error("Docusaurus context not provided");return t}},147:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return c}));var n=a(146),r=a(148);function o(){var t=Object(n.a)().siteConfig,e=(t=void 0===t?{}:t).baseUrl,a=void 0===e?"/":e,o=t.url;return{withBaseUrl:function(t,e){return function(t,e,a,n){var o=void 0===n?{}:n,c=o.forcePrependBaseUrl,i=void 0!==c&&c,s=o.absolute,l=void 0!==s&&s;if(!a)return a;if(a.startsWith("#"))return a;if(Object(r.b)(a))return a;if(i)return e+a;var d=a.startsWith(e)?a:e+a.replace(/^\//,"");return l?t+d:d}(o,a,t,e)}}}function c(t,e){return void 0===e&&(e={}),(0,o().withBaseUrl)(t,e)}},148:function(t,e,a){"use strict";function n(t){return!0===/^(\w*:|\/\/)/.test(t)}function r(t){return void 0!==t&&!n(t)}a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r}))},149:function(t,e,a){"use strict";var n=a(0),r=a.n(n);e.a=function(t){var e=t.name,a=t.height,n=void 0===a?500:a,o=t.modules,c=t.branch,i=void 0===c?"master":c,s=t.type,l=void 0===s?"example":s,d=t.view,b="https://codesandbox.io/embed/github/oneki/onekijs/tree/"+i+"/"+l+"/"+e+"?codemirror=1&fontsize=14&theme=dark&view="+(void 0===d?"editor":d);o&&(b+="&module=",o.forEach((function(t,e){e>0&&(b+=","),b+=t})));var p="onekijs-"+e.split("/").join("-");return r.a.createElement("iframe",{src:b,style:{width:"100%",height:n+"px",border:0,bordeRadius:"4px",overflow:"hidden"},title:p,allow:"geolocation; microphone; camera; midi; accelerometer; gyroscope; payment; encrypted-media; usb",sandbox:"allow-modals allow-forms allow-popups allow-scripts allow-same-origin"})}}}]);